<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org/"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/layout.html}"
      lang="en">

<div layout:fragment="content">
  <h1 class="section-title">ê³µì—° ìƒì„¸</h1>
  <div class="container mt-5">
    <div class="row">
      <div class="col">
        <img th:src="|/concert/img/${concert.posterFileName}|" class="rounded">
      </div>
      <div class="col-7">
        <table class="table table-hover">
          <tr>
            <th class="table-success">ì œëª©</th>
            <td>[[${concert.title}]]</td>
          </tr>
          <tr>
            <th class="table-success">ê³µì—° ì‹œì‘ ë‚ ì§œ</th>
            <td>[[${#dates.format(concert.startDate, 'yyyy-MM-dd')}]]</td>
          </tr>
          <tr>
            <th class="table-success">ê³µì—° ì¢…ë£Œ ë‚ ì§œ</th>
            <td>[[${#dates.format(concert.endDate, 'yyyy-MM-dd')}]]</td>
          </tr>
          <tr>
            <th class="table-success">ê³µì—° ì‹œê°„</th>
            <td>[[${concert.performanceTime}]]</td>
          </tr>
          <tr>
            <th class="table-success">ê³µì—° ì¥ì†Œ</th>
            <td>[[${concert.location}]]</td>
          </tr>
          <tr>
            <th class="table-success">ì´ìš© ê°€ëŠ¥ ì—°ë ¹</th>
            <td>[[${concert.ageRate}]]</td>
          </tr>
          <tr>
            <th class="table-success">ì¡°íšŒìˆ˜</th>
            <td>[[${concert.hitcount}]]</td>
          </tr>
        </table>

        <!-- ì¶”ì²¨ ì•ˆë‚´ ë¬¸êµ¬ -->
        <p style="font-size: 14px; color: #333;">
          â€» ê³µì—° ì‹œì‘ <strong style="color: red;">3ì¼ì „</strong> ì¶”ì²¨ì„ í†µí•´ ë°œí‘œë©ë‹ˆë‹¤.<br>
          <span style="color: #666; font-size: 13px;">
    ex: "2025-05-05 ê³µì—° â‡’ 2025-05-02 ì¶”ì²¨ë°œí‘œì¼"
  </span>
        </p>

        <!-- ê´€ëŒì¼ ì„ íƒ + ì˜ˆì•½ ë²„íŠ¼ -->
        <div class="row">
          <div class="col">
            <form th:action="@{/mypage/reservation}" method="post" class="mt-4">
              <div class="card shadow-sm p-4" style="max-width: 320px; border-radius: 16px; border: 1px solid #eee;">
                <label for="selectedDate" class="form-label mb-2" style="font-weight: bold; font-size: 15px;">
                  ğŸŸï¸ ê´€ëŒì¼ ì„ íƒ
                </label>
                <input
                        type="date"
                        name="selectedDate"
                        id="selectedDate"
                        class="form-control mb-3"
                        th:attr="min=${#dates.format(concert.startDate, 'yyyy-MM-dd')}, max=${#dates.format(concert.endDate, 'yyyy-MM-dd')}"
                        required
                        style="border-radius: 8px; padding: 10px;"
                >

                <input type="hidden" name="concertNum" th:value="${concert.concertNum}">

                <button type="submit"
                        class="btn w-100"
                        style="background-color: #006242; color: white; font-weight: bold; border-radius: 8px; padding: 10px;">
                  ì˜ˆì•½í•˜ê¸°
                </button>
              </div>
            </form>
          </div>
          <div class="col">
            <a th:href="@{/reviews/register(concertNum=${concert.concertNum})}">
              <button type="button"
                      class="btn w-100"
                      style="background-color: #006242; color: white; font-weight: bold; border-radius: 8px; padding: 10px;">
                ë¦¬ë·° ì“°ê¸°
              </button>
            </a>
          </div>
        </div>
      </div>
    </div>
    <div class="mt-5 text-center">
      <th:block th:each="filename:${concert.filenames}">
        <img th:src="|/concert/img/${filename}|" th:if="${filename!=''}">
      </th:block>
    </div>
  </div>
</div>